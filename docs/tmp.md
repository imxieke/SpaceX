## IP Range

查询不到的可通过 ASN IP 段进行查询
https://api.bgpview.io/asn/${asn}/prefixes
https://api.bgpview.io/ip/2a05:dfc7:60::
https://private-anon-657f499411-bgpview.apiary-proxy.com/ip/2a05%3Adfc7%3A60%3A%3A
https://api.bgpview.io/asn/12222/prefixes

CacheNetworks Inc. Cachefly 反向代理 ip 列表
AS30081
https://cachefly.cachefly.net/ips/rproxy.txt
https://cachefly.cachefly.net/ips/cdn.txt

Angelcam
https://devops.angelcam.com/whitelist.json
Atlassian
https://support.atlassian.com/bitbucket-cloud/docs/what-are-the-bitbucket-cloud-ip-addresses-i-should-use-to-configure-my-corporate-firewall/
https://ip-ranges.atlassian.com/


https://auth0.com/docs/secure/security-guidance/data-security/allowlist

Braintree Paypal
https://developer.paypal.com/braintree/docs/reference/general/braintree-ip-addresses
https://assets.braintreegateway.com/json/ips.json

https://corefy.com/docs/integration/ips_access.txt
https://ip-ranges.datadoghq.com/
https://www.digitalocean.com/geo/google.csv

https://grafana.com/api/hosted-alerts/source-ips.txt	Grafana_Alerts	https://grafana.com/docs/grafana-cloud/reference/allow-list/
https://grafana.com/api/hosted-grafana/source-ips.txt	Grafana_Hosted	https://grafana.com/docs/grafana-cloud/reference/allow-list/
https://grafana.com/api/hosted-metrics/source-ips.txt	Grafana_Metrics	https://grafana.com/docs/grafana-cloud/reference/allow-list/
https://grafana.com/api/hosted-traces/source-ips.txt	Grafana_Traces	https://grafana.com/docs/grafana-cloud/reference/allow-list/
https://grafana.com/api/hosted-logs/source-ips.txt	Grafana_Logs	https://grafana.com/docs/grafana-cloud/reference/allow-list/

https://help.keboola.com/components/ip-addresses/kbc-public-ip.json	Keboola	https://help.keboola.com/components/ip-addresses/
https://app.launchdarkly.com/api/v2/public-ip-list	LaunchDarkly	https://docs.launchdarkly.com/home/advanced/public-ip-list
https://support.maxcdn.com/hc/en-us/article_attachments/360051920551/maxcdn_ips.txt	MaxCDN	https://support.maxcdn.com/hc/en-us/articles/360036932271-IP-Blocks
https://endpoints.office.com/endpoints/worldwide?clientrequestid=b10c5ed1-bad1-445f-b386-b919946339a7	Office_365	https://docs.microsoft.com/en-us/microsoft-365/enterprise/urls-and-ip-address-ranges
https://s3.amazonaws.com/okta-ip-ranges/ip_ranges.json	Okta	https://help.okta.com/en/prod/Content/Topics/Security/ip-address-allow-listing.htm
https://docs.oracle.com/en-us/iaas/tools/public_ip_ranges.json	Oracle	https://docs.oracle.com/en-us/iaas/Content/General/Concepts/addressranges.htm
https://docs.ovh.com/us/en/hosting/list-of-ip-addresses-of-web-hosting-clusters	OVHcloud	https://docs.ovh.com/us/en/hosting/list-of-ip-addresses-of-web-hosting-clusters
https://www.plivo.com/docs/voice/concepts/ip-address-whitelisting#protocol-whitelisting	Plivo	https://www.plivo.com/docs/voice/concepts/ip-address-whitelisting#protocol-whitelisting
https://quic.cloud/ips?ln	QUIC_cloud	https://quic.cloud/docs/getting-started/adding-quic-cloud-ips-to-allowlist/
https://support.stackpath.com/hc/en-us/article_attachments/360096407372/ipblocks.txt	Stackpath	https://support.stackpath.com/hc/en-us/articles/360001091666-Review-and-Allowlist-CDN-WAF-IP-Blocks
https://stripe.com/files/ips/ips_api.txt	Stripe	https://stripe.com/docs/ips
https://stripe.com/files/ips/ips_webhooks.txt	Stripe_Webhooks	https://stripe.com/docs/ips
https://app.terraform.io/api/meta/ip-ranges	TerraformIO	https://www.terraform.io/docs/cloud/api/ip-ranges.html
https://www.uptrends.com/support/kb/account-access/ip-addresses-for-whitelisting	Uptrends	https://www.uptrends.com/support/kb/account-access/ip-addresses-for-whitelisting
https://noc.wikimedia.org/conf/reverse-proxy.php.txt	Wikimedia	https://noc.wikimedia.org/conf/
https://docs.workato.com/security/ip-whitelists.html	Workato	https://docs.workato.com/security/ip-whitelists.html
https://api.zendesk.com/ips	Zendesk	https://developer.zendesk.com/api-reference/ticketing/account-configuration/public_ips
https://assets.zoom.us/docs/ipranges/Zoom.txt	Zoom	https://support.zoom.us/hc/en-us/articles/201362683-Network-firewall-or-proxy-server-settings-for-Zoom
https://assets.zoom.us/docs/ipranges/ZoomCDN.txt	ZoomCDN	https://support.zoom.us/hc/en-us/articles/201362683-Network-firewall-or-proxy-server-settings-for-Zoom
https://assets.zoom.us/docs/ipranges/ZoomCRC.txt	ZoomCRC	https://support.zoom.us/hc/en-us/articles/201362683-Network-firewall-or-proxy-server-settings-for-Zoom
https://assets.zoom.us/docs/ipranges/ZoomMeetings.txt	ZoomMeetings	https://support.zoom.us/hc/en-us/articles/201362683-Network-firewall-or-proxy-server-settings-for-Zoom
https://assets.zoom.us/docs/ipranges/ZoomPhone.txt	ZoomPhone	https://support.zoom.us/hc/en-us/articles/201362683-Network-firewall-or-proxy-server-settings-for-Zoom

Akamai	AS12222, AS16625 AS36183, AS35994, AS35993, AS30675, AS23455, AS23454, AS22207, AS20189, AS18717, AS18680, AS17334, AS16702
CDNetworks	AS36408
DDoS Guard	AS57724
Incapsula
Qrator	AS200449
StackPath	AS12989
StormWall	AS59796
Sucuri	AS30148
X4B	AS136165
AS20473 Choopa, LLC

https://bgp.he.net/AS30081

## 运营商
- Tencent
  - https://bgp.he.net/search?search%5Bsearch%5D=tencent&commit=Search
- Alibaba
  - https://bgp.he.net/search?search%5Bsearch%5D=alibaba&commit=Search
- Baidu
  - https://bgp.he.net/search?search%5Bsearch%5D=baidu&commit=Search
- Digitalocean
- Vultr

## Azure IP Ranges and Service Tags – Public Cloud
- 节点对应地理位置
  - https://www.azurespeed.com/Information/AzureRegions
  - https://docs.microsoft.com/en-us/azure/availability-zones/cross-region-replication-azure

- 疑似 ASN
- https://bgp.potaroo.net/stats/ripe/eu-xlate.txt
- https://bgp.potaroo.net/stats/ripencc/eu-xlate.txt
- https://bgp.potaroo.net/stats/ripencc/asn-eu-xlate.txt
- https://bgp.potaroo.net/stats/ripe/asn-eu-xlate.txt
- https://bgp.potaroo.net/stats/free-as-a4.txt 疑似 ASN4

## 未知 ASN IPV4 IPV6
- https://bgp.potaroo.net/stats/apnic/allocated_advertised_ipv4.txt
- https://bgp.potaroo.net/stats/apnic/allocated_unadvertised_ipv4.txt
- https://bgp.potaroo.net/stats/apnic/available_unadvertised_ipv4.txt
- https://bgp.potaroo.net/stats/apnic/archive/2022/06/18/allocated_advertised_ipv4.txt
- https://bgp.potaroo.net/stats/apnic/archive/2022/06/18/allocated_unadvertised_ipv4.txt
- https://bgp.potaroo.net/stats/apnic/archive/2022/06/18/available_unadvertised_ipv4.txt
- https://bgp.potaroo.net/stats/apnic/archive/2022/06/18/reserved_advertised_ipv4.txt
- https://bgp.potaroo.net/stats/apnic/archive/2022/06/18/reserved_unadvertised_ipv4.txt

https://ftp.apnic.net/stats/apnic/delegated-apnic-latest
https://ftp.arin.net/pub/stats/arin/delegated-arin-extended-latest
https://ftp.ripe.net/ripe/stats/delegated-ripencc-latest
https://ftp.afrinic.net/pub/stats/afrinic/delegated-afrinic-latest
https://ftp.lacnic.net/pub/stats/lacnic/delegated-lacnic-latest
https://ftp.apnic.net/apnic/stats/apnic/delegated-apnic-latest
https://ftp.apnic.net/apnic/stats/apnic/delegated-apnic-latest
https://raw.githubusercontent.com/17mon/china_ip_list/master/china_ip_list.txt

CIDR_REGEX='[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}\/[0-9]\{1,\}'
IP_ADDRESS_REGEX='([0-9]{1,3}[\.]){3}[0-9]{1,3}'

azure match url
cidrs_azure=$(wget -qO- $(wget -qO- -U Mozilla https://www.microsoft.com/en-us/download/confirmation.aspx?id=56519 | grep -Eo 'https://download.microsoft.com/download/\S+?\.json' | head -n 1) | grep -o "$CIDR_REGEX" | sort -V )

databases/source/dbip-asn.csv | awk -F ',' '{print $3}' | sort --human-numeric-sort | uniq 74340
GeoLite2-ASN-Blocks-IPv*.csv | awk -F ',' '{print $2}' | sort --human-numeric-sort  | uniq 78620
cat IP2LOCATION-LITE-ASN.CSV | awk -F ',' '{print $4}' | grep -v '-' | sed 's#"##g' | sort --human-numeric-sort | uniq 77530

http://ftp.apnic.net/apnic/whois/apnic.db.inet6num.gz

## WHOIS 数据库
- http://ftp.apnic.net/apnic/whois/
- apnic.db.domain arpa 域名 反向代理
- apnic.db.aut-num ASN 信息
- apnic.db.inetnum ipv4 IP 段信息
- apnic.db.inet6num ipv6 IP 段信息


curl -sL --user-agent 'Mozilla/5.0' https://mp.weixin.qq.com/mp/appmsgalbum?__biz=Mzg3Mzc0NTA3NA==&action=getalbum&album_id=2329805780276838401 | grep -Eo 'http://mp.weixin.qq.com/s\S+rd' | head -n 1

grep -Eo 'htt\S+www.cz88.net/soft/\S+.zip'

IP 正则
grep -Eo "[0-9]{1,3}(?:\.[0-9]{1,3}){0,3}/[0-9]+" | sort -u | grep -v -E '^(100.|192\.168|10\.|172\.1[6789]\.|172\.2[0-9]\.|172\.3[01]\.)'



## IP Range
- http://ip.t086.com
- 中科大
  - http://revproxy.ustc.edu.cn:8000
  - https://github.com/ustcnic/docs/blob/master/IP_AS.md
  - http://lib.ustc.edu.cn/uncategorized/%E7%A7%91%E5%A4%A7%E6%A0%A1%E5%9B%AD%E7%BD%91ip%E5%9C%B0%E5%9D%80%E8%8C%83%E5%9B%B4/
- 安徽省合肥市 中科院合肥分院 安徽省核学会
- http://ans.org.cn

## 域名解析
http://public-dns.info/nameservers.txt

"UNKNOWN"
"CGWNET"
"CHINAGBN"
"TieTong"
"CSTNET"
"CMCC"
"CHINANET"
"Unicom"
"CERNET"

Default(any)
ChinaNet(CHINANet)
CMCC(CMCC,CHINAGBN)
CERNET(CERNET, CSTNET)

originas.bz2 是解析成 DNS zone file 格式的 /24 IP 段到 AS 号的映射关系
aspath.bz2 是解析成 DNS zone file 格式的 /24 IP 段到 AS 路径（从 U of Oregon 到源 AS）的映射关系
rib.bz2 是完整的 BGP 路由表信息。这是 MRT 格式的，可以用 bgpdump（https://labs.ripe.net/Members/yasuhiro_ohara/bgpdump2 ）parse 出来
{asn,aspath}.routeviews.org 使用上述的 DNS zone file 提供 IP 到 ASN 映射的查询。比如202.141.160.110，如下可以查到属于 AS 4134，就是中国电信的。

$ dig TXT 110.160.141.202.asn.routeviews.org
;; ANSWER SECTION:
110.160.141.202.asn.routeviews.org. 86395 IN TXT "4134" "202.141.160.0" "20"
$ dig TXT 110.160.141.202.aspath.routeviews.org
;; ANSWER SECTION:
110.160.141.202.aspath.routeviews.org. 86400 IN TXT "47872 6762 4134" "202.141.160.0" "20"
ASN 名字和说明信息表可以从这里下载： http://www.cidr-report.org/as2.0/autnums.html

根据这个 IP 到 Origin ASN 的映射，再用字符串匹配的方法把 ASN 归类到不同的运营商，就可以处理出一个相对准确的 DNS view 表了。

还有机构提供 live BGP update 的 streaming，比如 http://www.bgpmon.io/join-the-peering.html
telnet 这里的 live stream，基本上屏幕是不断刷出 BGP update 的信息的。

由于 BGP 路由表在不断变化，建议每天下载 originas.bz2 更新一次 DNS view。当然如果根据 live BGP update 来 streaming，那就更 fancy 了。

我们做出来的这些东西可以开源，处理出来的数据库公开发布，相信会挺有用的，因为国内大多数人不知道查 BGP 表的方法。


## IP Tools
- https://github.com/gaoyifan/bgptools
- https://github.com/metowolf/ipdb-packer
- https://github.com/leolovenet/qqwry2mmdb
- https://github.com/silverwind/cidr-tools

## IPInfo Tools
- https://github.com/metowolf/ipdb-cli
- https://github.com/OpenIPDB/nali
- https://github.com/zu1k/nali

https://mirrors.tuna.tsinghua.edu.cn/logs/neomirrors/
https://mirrors.tuna.tsinghua.edu.cn/logs/nanomirrors/
https://github.com/gaoyifan/china-operator-ip/issues?q=is%3Aissue
http://ftp.apnic.net/apnic/whois/
http://archive.routeviews.org/dnszones/

https://rdap.verisign.com/com/v1/domain/baidu.com
http://public-dns.info/nameservers.txt

- https://github.com/Loyalsoldier/geoip
- https://github.com/Hackl0us/GeoIP2-CN
- https://github.com/itbdw/ip-database
- https://github.com/dtapps/ip
- https://github.com/imxieke/ipdb
- https://github.com/ipinfo/php
- https://github.com/metowolf/ipdb-API
- https://ipgeolocation.io/ip-location/72.44.68.160
- https://ipinfo.io/account/home
- https://ipinfo.io/8.8.8.8/json?token=b42d0deecb95b2
aaa
## Database
- https://github.com/lord-alfred/ipranges
- https://github.com/Loyalsoldier/clash-rules
- https://github.com/Loyalsoldier/v2ray-rules-dat
- https://github.com/Loyalsoldier/domain-list-custom
- https://github.com/Loyalsoldier/geoip
- https://github.com/Loyalsoldier/surge-rules
- https://github.com/PaPerseller/chn-iplist

## Whois Database
- https://github.com/RIPE-NCC/whois

## Domain list
- https://github.com/v2fly/domain-list-community 品牌所包含的域名

- 合并多家数据源
- ASN IPV4 使用 IP2Location 数据
- ASN IPV6 使用 IP2Location 数据
- City IPV4  使用 GeoLite2 数据
- City IPV6  使用 IP2Location 数据
- GeoLite2 错误的较多
- 通过收集 BGP ASN 以及云厂商公布的数据进行更改
- asn.txt 似乎全面些可以补全
- asn ipv4 ipv6 不分表
- 并入经纬信息 国家区号 省市区号等信息
- 查询 Whois 数据库 提取出 ASN 根据 ASN 提取所有 IP 段
- 合并国内的数据最终生成 mmdb 格式数据

## 数据源
- ChunZhen
- Maxmind
- IP2Location
- IP2Region
- DB-IP
- IPINFO

### 数据过时 最后一版生成于 2021年
- https://ip.zxinc.org/ip.7z

## 格式不对
apnic-transfer-apnic-latest

## IP2LOCATION-LITE-ASN format
ip-from,ip-to,cidr,asn,org
## DBIP ASN format
ip-from,ip-to,asn,org

### RIR ASN Format
ASN,Count,Country,Status,Date,registry

## DBIP City Format
mmdb : first_ip,end_ip,continent_code,continent_name,Country Code,Country EU membership,Country,Province,City,Lat/Lon
csv  : first_ip,end_ip,continent_code,Country Code,Province,City,Lat/Lon

## Geolite2 ASN Format
- cidr,asn,org
## ASN 数据源
- GeoLite2 ASN
- DBIP ASN
- Ip2Location ASN
- Ripe ASN
- Ripe ASN Info
- https://bgp.potaroo.net/stats/reserved-as-a4.txt
- https://whois.ipip.net/countries
- https://ipinfo.io/countries
- https://ip.sb/iana-asn/
- https://db-ip.com/asn/

## IPV4 数据源
- https://github.com/17mon/china_ip_list/raw/master/china_ip_list.txt
- https://github.com/lionsoul2014/ip2region/raw/master/data/ip.merge.txt
- https://github.com/FW27623/qqwry

## Other

## URL
- https://rdap.db.ripe.net/autnum/
- https://rdap.afrinic.net/rdap/entity/
- https://rdap.apnic.net/entity/
- https://rdap.arin.net/
- https://rdap.db.ripe.net/entity/

## API
- https://ip-api.com